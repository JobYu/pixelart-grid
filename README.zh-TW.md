# 像素畫網格與調色板生成器

一個為像素畫愛好者設計的線上工具，可以快速為您的像素畫作品（如16x16, 32x32等）生成帶網格和調色板的放大預覽圖，並支援新增自訂浮水印。

這個專案是基於一個純前端的實現，所有的圖像處理都在使用者的瀏覽器中完成，確保了速度和使用者資料的隱私性。

## ✨ 主要功能

- **上傳PNG圖片**: 支援上傳小尺寸的像素畫PNG檔案。
- **圖像放大**: 可自訂放大倍數（2-32倍），並保持像素塊的邊緣清晰。
- **網格生成**: 在放大後的圖像上自動繪製與像素對齊的網格。
- **調色板提取**: 自動分析並展示作品中使用的所有顏色。
- **自訂浮水印**: 允許使用者輸入文字作為浮水印，並調節其不透明度。
- **多語言支援**: 自動適配簡體中文、繁體中文和英文介面。
- **設定記憶**: 自動在本機儲存使用者對放大倍數、浮水印文字和不透明度的設定。
- **純用戶端處理**: 所有操作均在瀏覽器中完成，無需上傳到伺服器，響應迅速且保護使用者隱私。
- **一鍵下載**: 將生成的帶網格、調色板和浮水印的最終圖片下載到本機。

## 🚀 技術實現

該工具完全基於HTML、CSS和原生JavaScript實現，不依賴任何外部框架。

### 設計原則
1.  **簡潔直觀**: UI設計遵循極簡原則，使用者進入頁面即可理解核心操作流程：「上傳 -> 設定 -> 下載」。
2.  **純用戶端處理**: 圖像處理完全在使用者瀏覽器中透過JavaScript執行，帶來了三大優勢：
    - **速度快**: 無需網路檔案上傳，處理即時完成。
    - **隱私性好**: 使用者的作品資料不會離開本機。
    - **成本低**: 無需伺服器儲存和計算資源。
3.  **即時回饋**: 使用者的任何操作（如調整放大倍數、輸入浮水印）都會立刻在預覽區域更新，所見即所得。

### 核心邏輯
1.  **檔案讀取**: 使用 `FileReader` API 非同步讀取使用者上傳的PNG檔案。
2.  **顏色提取**:
    - 將上傳的圖像繪製到一個離屏（offscreen）的 `<canvas>` 上。
    - 透過 `getImageData()` 獲取圖像所有像素的RGBA資料。
    - 遍歷像素資料，將顏色值存入 `Set` 物件以實現自動去重，從而生成調色板。
3.  **圖像放大與網格繪製**:
    - 在主顯示 `<canvas>` 上，首先禁用圖像平滑 (`imageSmoothingEnabled = false`)，這是保證像素塊邊緣清晰的關鍵。
    - 將原圖以指定的放大倍數繪製到主畫布上。
    - 根據放大倍數計算步長，循環繪製橫向和縱向線條，形成網格。
4.  **浮水印与最终图像合成**:
    - 在圖像和網格繪製完成後，根據使用者輸入繪製浮水印文字。
    - 將調色板色塊、白色邊框等所有元素繪製到同一個Canvas中，形成最終的完整圖片。
5.  **國際化 (i18n)**:
    - 建立一個包含多種語言文字的JavaScript物件。
    - 透過 `navigator.language` 偵測使用者瀏覽器語言，動態更新頁面上的文字內容。
6.  **狀態持久化**:
    - 使用 `localStorage` 在使用者的瀏覽器中儲存設定項（如放大倍數、浮水印文字等）。
    - 頁面載入時自動讀取這些設定，恢復使用者上次的使用狀態。
7.  **生成下載**:
    - 呼叫 `canvas.toDataURL('image/png')` 方法，將最終繪製好的畫布內容轉換為Base64格式的圖片資料。
    - 將該資料賦予一個 `<a>` 標籤的 `href` 屬性，並設定其 `download` 屬性以實現檔案下載。 